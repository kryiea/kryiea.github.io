import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,e as a,o as l}from"./app-DRR9Yo7Y.js";const s="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.001-B63x8w0E.png",n="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.002-ACdUwOCm.png",r="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.003-BfmcdoCP.png",o="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.004-Dx8-ZRg5.png",p="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.005-D7F6c9qq.png",h="/assets/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.006-Cmaq_pyO.png",c={};function g(d,t){return l(),e("div",null,t[0]||(t[0]=[a('<p><strong>hashtableåº•å±‚ç»“æ„</strong></p><p><strong>æ¦‚è¿°</strong></p><ul><li>å¯ä»¥ç†è§£æˆç›®å½•ï¼Œè¦ç¿»çœ‹å†…å®¹å¯ä»¥ç›´æ¥é€šè¿‡ç›®å½•æ‰¾åˆ°é¡µæ•°ï¼Œç¿»è¿‡å»çœ‹</li><li>hashtable æ‰®æ¼”è€…ç±»ä¼¼ç›®å½•è¿™æ ·ä¸€ä¸ªå¿«é€Ÿç´¢å¼•è§’è‰²</li></ul><p><strong>ç»“æ„</strong></p><p>ä»£ç å®šä¹‰</p><figure><img src="'+s+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>ç»“æ„å›¾</p><figure><img src="'+n+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>æœ€å¤–å±‚æ˜¯ä¸€ä¸ª dicthtï¼Œå­—æ®µå¦‚ä¸‹</li><li>*tableï¼šæŒ‡å‘å®é™… hash å­˜å‚¨ã€‚å­˜å‚¨çœ‹æˆä¸€ä¸ªæ•°ç»„</li><li>sizeï¼šå“ˆå¸Œå¤§å°ã€‚å®é™…å°±æ˜¯ dictEntry æœ‰å¤šå°‘å…ƒç´ ç©ºé—´</li><li>sizemaskï¼šå“ˆå¸Œè¡¨å¤§å°çš„æ©ç è¡¨ç¤ºï¼Œæ€»æ˜¯ç­‰äº size-1.è¿™ä¸ªå±æ€§å’Œå“ˆå¸Œå€¼ä¸€èµ·å†³å®šä¸€ä¸ªé”®ä¸€ä¸ªè¢«æ”¾åœ¨ table æ•°ç»„çš„å“ªä¸ªç´¢å¼•ä¸Šé¢ï¼Œè§„åˆ™æ˜¯ï¼šIndex = hash&amp;sizemask</li><li>usedï¼šè¡¨ç¤ºå·²ç»ä½¿ç”¨çš„èŠ‚ç‚¹æ•°é‡</li></ul><p><strong>hash è¡¨æ¸è¿›å¼æ‰©å®¹</strong></p><p>reids æŠŠ dictht å†å°è£…äº†ä¸€å±‚ï¼šdict</p><figure><img src="'+r+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>ç»“æ„å›¾</p><ul><li>dict ç»“æ„é‡Œ ht[2] åŒ…å«ä¸¤ä¸ª dictht ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ 2 ä¸ª hashtable</li><li>dictEntry æ˜¯é“¾è¡¨ç»“æ„ï¼Œç”¨æ‹‰é“¾æ³•è§£å†³ hash å†²çªï¼Œç”¨çš„æ˜¯å¤´æ’æ³•</li></ul><figure><img src="'+o+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>æ‰©å®¹ï¼šæ¸è¿›å¼ï¼</p><ol><li>å®é™…å¹³å¸¸ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª hashtableï¼Œåœ¨è§¦å‘æ‰©å®¹ä¹‹åï¼Œå°±ä¼šä¸¤ä¸ª hashtable åŒæ—¶ä½¿ç”¨</li><li>æ‰©å®¹è¿‡ç¨‹ï¼šå¾€å­—å…¸æ·»åŠ å…ƒç´ ï¼Œå‘ç°éœ€è¦æ‰©å®¹ä¼šè¿›è¡Œ rehash</li><li>å…ˆä¸ºæ–° hash è¡¨ ht[1] åˆ†é…ç©ºé—´ï¼Œæ–°è¡¨å¤§å°ä¸ºç¬¬ä¸€ä¸ªå¤§äºç­‰äºåŸè¡¨ 2 å€ used çš„ 2 æ¬¡æ–¹å¹‚ ğŸŒ°åŸè¡¨çš„ used = 500ï¼Œ2 å€å°±æ˜¯ 1000ï¼Œé‚£å¤§äº 1000 çš„ 2 æ¬¡æ–¹å¹‚åˆ™ä¸º 1024</li><li>æ‰©å®¹åï¼ŒåŒæ—¶æ‹¥æœ‰ä¸¤ä¸ª hash è¡¨ ht[0]ã€ht[1]ã€‚</li><li>å°†å­—å…¸çš„åç§»ç´¢å¼• rehashidx ä»é™é»˜çŠ¶æ€ -1ï¼Œè®¾ç½®ä¸º 0ï¼Œè¡¨ç¤º rehash å·¥ä½œæ­£å¼å¼€å§‹</li><li>å·¥ä½œæµç¨‹</li></ol><figure><img src="'+p+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ol><li>è¿ç§» ht[0] çš„æ•°æ®åˆ° ht[1]</li><li>åœ¨ rehash æœŸé—´ï¼Œæ¯æ¬¡å¯¹å­—å…¸æ‰§è¡Œå¢åˆ æ”¹æŸ¥ï¼Œç¨‹åºä¼šé¡ºå¸¦è¿ç§»å½“å‰ rehashidx åœ¨ ht[0] ä¸Šå¯¹åº”çš„æ•°æ®ï¼Œå¹¶æ›´æ–°åç§»ç´¢å¼•ã€‚ï¼ˆåªæœ‰è¢«åˆ æ”¹æŸ¥çš„æ•°æ®æ‰ä¼šåˆ«è¿ç§»ï¼Œä¸ç„¶ä¸€ç›´ä¸åŠ¨ï¼‰</li><li>ä¸æ­¤åŒæ—¶ï¼Œéƒ¨åˆ†æƒ…å†µå‘¨æœŸå‡½æ•°ä¹Ÿä¼šè¿›è¡Œè¿ç§»</li><li>éšç€å­—å…¸æ“ä½œä¸æ–­ï¼Œæœ€ç»ˆåœ¨æŸä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œht[0] çš„æ‰€æœ‰æ•°æ®ä¼šè¢« rehash åˆ° ht[1] ä¸Š</li><li>æ­¤æ—¶å°† ht[1] å’Œ ht[0] çš„æŒ‡é’ˆäº’æ¢ï¼ŒåŒæ—¶å°†åç§»ç´¢å¼•çš„å€¼è®¾ä¸º-1ï¼Œè¡¨ç¤º rehash å·²ç»å®Œæˆ</li></ol><p>dictRehash å‡½æ•°</p><figure><img src="'+h+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœ rehashidx åˆšå¥½åœ¨ä¸€ä¸ªå·²ç»åˆ é™¤çš„ç©ºä½ç½®ï¼Œæ˜¯ä¼šç»§ç»­å¾€ä¸‹æ‰¾ï¼Œä½†æ˜¯æœ‰ä¸Šé™ n*10</li><li>n æ˜¯ä¼ è¿›æ¥çš„å‚æ•°ï¼Œè°ƒç”¨æ—¶å®é™…ä¸º 1ï¼Œåˆ™æœ€å¤šå¾€åæ‰¾ 10 ä¸ªï¼Œé˜²æ­¢å› ä¸ºç¢°åˆ°è¿ç»­çš„ç©ºä½ç½®å¯¼è‡´ä¸»çº¿ç¨‹æ“ä½œè¢«é˜»å¡</li><li>æ¯æ¬¡è¿ç§»ä¸€ä¸ªå‡½æ•°ï¼Œrehash éƒ½ä¼šæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®Œæˆæ•´ä¸ªè¿ç§»</li></ul><p>æ€»ç»“</p><p>æ ¸å¿ƒæ˜¯ï¼šæ“ä½œæ—¶é¡ºå¸¦è¿ç§»</p><p><strong>æ‰©å®¹æ—¶æœº</strong></p><p>è´Ÿè½½å› å­è¡¨ç¤ºç›®å‰ redis hashtable çš„è´Ÿè½½æƒ…å†µ</p><ul><li>è®¾è´Ÿè½½å› å­ä¸º k</li><li>k = ht[0].used / ht[0].size</li><li>k æ˜¯ä¼šå¤§äº 1 çš„ï¼Œå› ä¸ºæ˜¯æ‹‰é“¾æ³•å¤„ç†æ‰©å®¹ï¼Œä¸” used æ˜¯è¡¨ç¤º dictEntry** çš„ä½¿ç”¨æƒ…å†µ</li></ul><p>ä½•æ—¶æ‰©å®¹</p><ol><li>è´Ÿè½½å› å­å¤§äºç­‰äº 1ï¼šè¯´æ˜ç©ºé—´éå¸¸ç´§å¼ </li><li>æ–°æ•°æ®å®åœ¨é“¾è¡¨ä¸Šå åŠ çš„ï¼ˆæ‹‰é“¾æ³•ï¼‰ï¼Œè¶Šæ¥è¶Šå¤šæ•°æ®æ— æ³•åœ¨ O1 æ—¶é—´å¤æ‚åº¦ä¸Šæ‰¾åˆ°ï¼Œéœ€è¦éå†ä¸€æ¬¡é“¾è¡¨</li><li>å¦‚æœæ­¤æ—¶æœåŠ¡å™¨æ²¡æœ‰æ‰§è¡Œ BGSAVE æˆ– BGREWRITEAOF è¿™ä¸¤ä¸ªå‘½ä»¤ ï¼ˆå¤åˆ¶å‘½ä»¤ï¼‰</li><li>å°±å‘ç”Ÿæ‰©å®¹</li><li>è´Ÿè½½å› å­å¤§äº 5ï¼šè¯´æ˜ hashtable ä¸å ªé‡è´Ÿ</li><li>ç°åœ¨å³ä½¿æœ‰å¤åˆ¶å‘½ä»¤åœ¨æ‰§è¡Œï¼Œä¹Ÿä¼šè¿›è¡Œ rehash æ‰©å®¹</li></ol><p><strong>ç¼©å®¹</strong></p><p>æ¸è¿›å¼ç¼©å®¹ï¼šçœ‹è´Ÿè½½å› å­ k</p><ul><li>k å°äº 0.1ï¼Œå³è´Ÿè½½ç‡å°äº 10%ï¼Œå°±ä¼šè¿›è¡Œç¼©å®¹</li><li>æ–°è¡¨å¤§å°ä¸ºç¬¬ä¸€ä¸ªå¤§äºç­‰äºåŸè¡¨ used çš„ 2 æ¬¡æ–¹å¹‚</li><li>å¦‚æœæœ‰BGSAVE æˆ– BGREWRITEAOF è¿™ä¸¤ä¸ªå¤åˆ¶å‘½ä»¤ï¼Œç¼©å®¹ä¸ä¼šè¿›è¡Œ</li></ul><p><strong>æ€»ç»“</strong></p><p>hashtable æ˜¯é¢è¯•çƒ­ç‚¹ã€‚ã€‚</p>',34)]))}const E=i(c,[["render",g],["__file","hashtableåº•å±‚ç»“æ„.html.vue"]]),f=JSON.parse('{"path":"/back-end/redis/Data-object/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.html","title":"Rediså“ˆå¸Œè¡¨åº•å±‚ç»“æ„è¯¦è§£","lang":"zh-CN","frontmatter":{"title":"Rediså“ˆå¸Œè¡¨åº•å±‚ç»“æ„è¯¦è§£","description":"æ·±å…¥åˆ†æRediså“ˆå¸Œè¡¨çš„åº•å±‚å®ç°åŸç†åŠä¼˜åŒ–ç­–ç•¥","date":"2024-01-01T00:00:00.000Z","category":["æ•°æ®åº“","Redis"],"tag":["Redis","å“ˆå¸Œè¡¨","æ•°æ®ç»“æ„","åº•å±‚å®ç°"],"head":[["meta",{"property":"og:url","content":"https://kryiea.cn/back-end/redis/Data-object/hashtable%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84.html"}],["meta",{"property":"og:site_name","content":"ğŸ§kryiea"}],["meta",{"property":"og:title","content":"Rediså“ˆå¸Œè¡¨åº•å±‚ç»“æ„è¯¦è§£"}],["meta",{"property":"og:description","content":"æ·±å…¥åˆ†æRediså“ˆå¸Œè¡¨çš„åº•å±‚å®ç°åŸç†åŠä¼˜åŒ–ç­–ç•¥"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-31T15:53:39.000Z"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:tag","content":"å“ˆå¸Œè¡¨"}],["meta",{"property":"article:tag","content":"æ•°æ®ç»“æ„"}],["meta",{"property":"article:tag","content":"åº•å±‚å®ç°"}],["meta",{"property":"article:published_time","content":"2024-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-31T15:53:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Rediså“ˆå¸Œè¡¨åº•å±‚ç»“æ„è¯¦è§£\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-31T15:53:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"kryiea\\",\\"url\\":\\"https://github.com/kryiea\\",\\"email\\":\\"kryieaa@outlook.com\\"}]}"]]},"headers":[],"git":{"createdTime":1743436419000,"updatedTime":1743436419000,"contributors":[{"name":"kryiea","email":"1582877056@qq.com","commits":1}]},"readingTime":{"minutes":3.45,"words":1035},"filePathRelative":"back-end/redis/Data-object/hashtableåº•å±‚ç»“æ„.md","localizedDate":"2024å¹´1æœˆ1æ—¥","excerpt":"<p><strong>hashtableåº•å±‚ç»“æ„</strong></p>\\n<p><strong>æ¦‚è¿°</strong></p>\\n<ul>\\n<li>å¯ä»¥ç†è§£æˆç›®å½•ï¼Œè¦ç¿»çœ‹å†…å®¹å¯ä»¥ç›´æ¥é€šè¿‡ç›®å½•æ‰¾åˆ°é¡µæ•°ï¼Œç¿»è¿‡å»çœ‹</li>\\n<li>hashtable æ‰®æ¼”è€…ç±»ä¼¼ç›®å½•è¿™æ ·ä¸€ä¸ªå¿«é€Ÿç´¢å¼•è§’è‰²</li>\\n</ul>\\n<p><strong>ç»“æ„</strong></p>\\n<p>ä»£ç å®šä¹‰</p>\\n<figure><figcaption>...</figcaption></figure>\\n<p>ç»“æ„å›¾</p>\\n<figure><figcaption>...</figcaption></figure>\\n<ul>\\n<li>æœ€å¤–å±‚æ˜¯ä¸€ä¸ª dicthtï¼Œå­—æ®µå¦‚ä¸‹</li>\\n<li>*tableï¼šæŒ‡å‘å®é™… hash å­˜å‚¨ã€‚å­˜å‚¨çœ‹æˆä¸€ä¸ªæ•°ç»„</li>\\n<li>sizeï¼šå“ˆå¸Œå¤§å°ã€‚å®é™…å°±æ˜¯ dictEntry æœ‰å¤šå°‘å…ƒç´ ç©ºé—´</li>\\n<li>sizemaskï¼šå“ˆå¸Œè¡¨å¤§å°çš„æ©ç è¡¨ç¤ºï¼Œæ€»æ˜¯ç­‰äº size-1.è¿™ä¸ªå±æ€§å’Œå“ˆå¸Œå€¼ä¸€èµ·å†³å®šä¸€ä¸ªé”®ä¸€ä¸ªè¢«æ”¾åœ¨ table æ•°ç»„çš„å“ªä¸ªç´¢å¼•ä¸Šé¢ï¼Œè§„åˆ™æ˜¯ï¼šIndex = hash&amp;sizemask</li>\\n<li>usedï¼šè¡¨ç¤ºå·²ç»ä½¿ç”¨çš„èŠ‚ç‚¹æ•°é‡</li>\\n</ul>"}');export{E as comp,f as data};
