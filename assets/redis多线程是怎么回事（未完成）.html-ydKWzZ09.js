import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,e as r,o as a}from"./app-CB9WG6K8.js";const n="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.001-D5p1m2HK.png",o="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.002-CSAIzvBm.png",E="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.003-BDwQHACt.png",p="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.004-qc5PIavW.png",s="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.005-DHudbTxg.png",l="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.006-B2vgD1eW.png",c="/assets/redis%20%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.007-ZFG4ynrr.png",d={};function g(A,e){return a(),t("div",null,e[0]||(e[0]=[r('<p><strong>redis å¤šçº¿ç¨‹æ˜¯æ€ä¹ˆå›äº‹ï¼ˆæœªå®Œæˆï¼‰</strong></p><p><strong>redis å¤šçº¿ç¨‹æ¨¡å‹</strong></p><ul><li>éšç€ä¸šåŠ¡å‘å±•ï¼Œå¾ˆå¤šä¸šåŠ¡è¯·æ±‚é‡éƒ½è¾¾åˆ°äº†ä¸€ä¸ªæ›¾ç»éš¾ä»¥ç°è±¡çš„é«˜åº¦ï¼ŒIO æ“ä½œç¡®å®æˆä¸ºäº†ç“¶é¢ˆï¼Œä¹‹å‰çš„ redis å¤„ç†æµç¨‹ä¸­è¯»å–è¯·æ±‚ï¼Œå‘é€å›åŒ…éƒ½å±äº IO æ“ä½œ</li><li>redis å¤šçº¿ç¨‹ä¹Ÿä¸æ˜¯å°†æ•´ä¸ªé€»è¾‘éƒ½å¤šçº¿ç¨‹åŒ–ï¼Œè€Œæ˜¯å°†ç½‘ç»œ io å¤šçº¿ç¨‹åŒ–</li></ul><p>redis å¤šçº¿ç¨‹è®¾è®¡æ€è·¯</p><figure><img src="'+n+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>å†è¯¦ç»†ä¸€ç‚¹</p><figure><img src="'+o+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><figure><img src="'+E+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p><strong>åˆ†å¼€çœ‹</strong></p><p>ä»€ä¹ˆæ—¶å€™å¯åŠ¨å¤šçº¿ç¨‹</p><ol><li>æœåŠ¡åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ initThreadedIOæ¥åˆå§‹åŒ–å¤šçº¿ç¨‹</li><li>æ ¹æ®server.io_threadæ¥é…ç½®ï¼Œå¦‚æœä¸º 1ï¼Œè¡¨ç¤ºåªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œé‚£å°±ä¸ä¼šå†åˆ›å»ºå…¶ä»–çº¿ç¨‹</li><li>å¦‚æœå¤§äº 1 å¹¶ä¸”ä¸è¶…è¿‡ 128ï¼Œå°±ä¼šè¿›å…¥å¤šçº¿ç¨‹æ¨¡å¼</li></ol><p>è¿›å…¥å¤šçº¿ç¨‹æ¨¡å¼å</p><ol><li>ä¸ºå¤šçº¿ç¨‹æ¨¡å¼åˆ›å»ºèµ„æº</li></ol><figure><img src="'+p+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ol><li>è¿™é‡Œä¸ºæ‰€æœ‰çº¿ç¨‹ï¼Œåœ¨ io_threads_list ä¸­åˆ›å»ºå¯¹è±¡</li><li>æå‰é”å®šäº† pthread_mutex_lock äº’æ–¥é”èµ„æºï¼ˆå•çº¯çš„åŠ é”æ“ä½œï¼Œé”ä½è¿™ä¸ª io çº¿ç¨‹å¯¹åº”çš„ mutexï¼Œç±»ä¼¼ä¸å…è®¸è¿™ä¸ª io çº¿ç¨‹åˆ›å»ºå¤šæ¬¡ï¼‰</li><li>pthread_createå°±åˆ›å»ºäº†å¤šçº¿ç¨‹ï¼Œå­çº¿ç¨‹è¿è¡Œ IOThreadMain æ“ä½œï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— é™å¾ªç¯å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å­çº¿ç¨‹ä¼šä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç›´åˆ°è¿›ç¨‹ç»“æŸ</li></ol><p>redis å¤šçº¿ç¨‹é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦ä¸»åŠ¨å¼€å¯</p><p>ç”¨æˆ·å¯ä»¥åœ¨redis.confé…ç½®æ–‡ä»¶ä¸­å¼€å¯</p><figure><img src="'+s+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p><strong>ä¸»çº¿ç¨‹è§†è§’</strong></p><p><strong>äº‹ä»¶å¾ªç¯</strong></p><p>ä¸»çº¿ç¨‹å’Œ 6.0 ç‰ˆæœ¬ä¹‹å‰ä¸€æ ·ï¼Œè¿˜æ˜¯ç”¨ aeMain æ¥å¤„ç†äº‹ä»¶å¾ªç¯</p><figure><img src="'+l+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>aeMain æ˜¯ redis çš„ä¸»çº¿ç¨‹å…¥å£ï¼Œå† eventloop ä¸€ç›´å¾ªç¯</li><li>å½“æœ‰å®¢æˆ·ç«¯è¿æ¥åˆ°æ¥ï¼ŒacceptTcpHandeler è¢«è°ƒç”¨ï¼Œä¸»çº¿ç¨‹ä½¿ç”¨ AE çš„ API å°† readQueryFromClientå‘½ä»¤è¯»å–å¤„ç†å™¨ä¸æ–°è¿æ¥å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦å…³è”èµ·æ¥ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ª client ç»‘å®šåˆ°è¿™ä¸ªå®¢æˆ·ç«¯è¿æ¥</li><li>å½“ client çš„è¯»å†™è¯·æ±‚è¿‡æ¥ï¼Œä¼šè°ƒç”¨readQueryFromClientè¿™ä¸ªæ–¹æ³•</li><li>è€ç‰ˆæœ¬å®åœ¨readQueryFromClientå‡½æ•°ä¸­åŒæ­¥å®Œæˆè¯»å–ã€è§£æã€æ‰§è¡Œã€å°†å›åŒ…æ”¾å…¥å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²åŒº</li><li>å¤šçº¿ç¨‹æ¨¡å¼ä¸‹ï¼šåªä¼šè°ƒç”¨postponeClientReadå°† client åŠ å…¥åˆ°clients_pending_readä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåé¢ä¸»çº¿ç¨‹å†åˆ†é… IO çº¿ç¨‹å»è¯»å–å®¢æˆ·ç«¯è¯·æ±‚å‘½ä»¤</li></ul><figure><img src="'+c+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>æ”¾è¿›é˜Ÿåˆ—ä¹‹åï¼Œä¸»çº¿ç¨‹ä¼šåœ¨äº‹ä»¶å¾ªç¯ beforeSleep å‡½æ•°ä¸­ï¼Œè°ƒç”¨</li></ul>',25)]))}const _=i(d,[["render",g],["__file","rediså¤šçº¿ç¨‹æ˜¯æ€ä¹ˆå›äº‹ï¼ˆæœªå®Œæˆï¼‰.html.vue"]]),f=JSON.parse('{"path":"/back-end/redis/Operating-principle/redis%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.html","title":"Rediså¤šçº¿ç¨‹æœºåˆ¶è¯¦è§£","lang":"zh-CN","frontmatter":{"title":"Rediså¤šçº¿ç¨‹æœºåˆ¶è¯¦è§£","description":"æ·±å…¥åˆ†æRediså¤šçº¿ç¨‹çš„å®ç°åŸç†ã€åº”ç”¨åœºæ™¯åŠæ€§èƒ½å½±å“","date":"2024-01-01T00:00:00.000Z","category":["æ•°æ®åº“","Redis"],"tag":["Redis","å¤šçº¿ç¨‹","æ€§èƒ½ä¼˜åŒ–","ç³»ç»Ÿæ¶æ„"],"head":[["meta",{"property":"og:url","content":"https://kryiea.cn/back-end/redis/Operating-principle/redis%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89.html"}],["meta",{"property":"og:site_name","content":"ğŸ§kryiea"}],["meta",{"property":"og:title","content":"Rediså¤šçº¿ç¨‹æœºåˆ¶è¯¦è§£"}],["meta",{"property":"og:description","content":"æ·±å…¥åˆ†æRediså¤šçº¿ç¨‹çš„å®ç°åŸç†ã€åº”ç”¨åœºæ™¯åŠæ€§èƒ½å½±å“"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-31T15:53:39.000Z"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:tag","content":"å¤šçº¿ç¨‹"}],["meta",{"property":"article:tag","content":"æ€§èƒ½ä¼˜åŒ–"}],["meta",{"property":"article:tag","content":"ç³»ç»Ÿæ¶æ„"}],["meta",{"property":"article:published_time","content":"2024-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-31T15:53:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Rediså¤šçº¿ç¨‹æœºåˆ¶è¯¦è§£\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-31T15:53:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"kryiea\\",\\"url\\":\\"https://github.com/kryiea\\",\\"email\\":\\"kryieaa@outlook.com\\"}]}"]]},"headers":[],"git":{"createdTime":1743436419000,"updatedTime":1743436419000,"contributors":[{"name":"kryiea","email":"1582877056@qq.com","commits":1}]},"readingTime":{"minutes":2.52,"words":755},"filePathRelative":"back-end/redis/Operating-principle/rediså¤šçº¿ç¨‹æ˜¯æ€ä¹ˆå›äº‹ï¼ˆæœªå®Œæˆï¼‰.md","localizedDate":"2024å¹´1æœˆ1æ—¥","excerpt":"<p><strong>redis å¤šçº¿ç¨‹æ˜¯æ€ä¹ˆå›äº‹ï¼ˆæœªå®Œæˆï¼‰</strong></p>\\n<p><strong>redis å¤šçº¿ç¨‹æ¨¡å‹</strong></p>\\n<ul>\\n<li>éšç€ä¸šåŠ¡å‘å±•ï¼Œå¾ˆå¤šä¸šåŠ¡è¯·æ±‚é‡éƒ½è¾¾åˆ°äº†ä¸€ä¸ªæ›¾ç»éš¾ä»¥ç°è±¡çš„é«˜åº¦ï¼ŒIO æ“ä½œç¡®å®æˆä¸ºäº†ç“¶é¢ˆï¼Œä¹‹å‰çš„ redis å¤„ç†æµç¨‹ä¸­è¯»å–è¯·æ±‚ï¼Œå‘é€å›åŒ…éƒ½å±äº IO æ“ä½œ</li>\\n<li>redis å¤šçº¿ç¨‹ä¹Ÿä¸æ˜¯å°†æ•´ä¸ªé€»è¾‘éƒ½å¤šçº¿ç¨‹åŒ–ï¼Œè€Œæ˜¯å°†ç½‘ç»œ io å¤šçº¿ç¨‹åŒ–</li>\\n</ul>\\n<p>redis å¤šçº¿ç¨‹è®¾è®¡æ€è·¯</p>\\n<figure><figcaption>...</figcaption></figure>\\n<p>å†è¯¦ç»†ä¸€ç‚¹</p>"}');export{_ as comp,f as data};
