import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,e as l,o as r}from"./app-DRR9Yo7Y.js";const n="/assets/string.001-DUW9q392.png",s="/assets/string.002-6T6Rb_lV.png",o="/assets/string.003-DeU_07PG.png",p="/assets/string.004-XE4ablJb.png",a="/assets/string.005-CC3tZHZy.png",g="/assets/string.006-CaZhJ26w.png",c={};function d(m,t){return r(),e("div",null,t[0]||(t[0]=[l('<p><strong>string</strong></p><p><strong>string</strong></p><p>string æ˜¯æœ€åŸºæœ¬çš„ k-v ç»“æ„ï¼Œkey æ˜¯å”¯ä¸€è¡¨ç¤ºï¼Œvalue æ˜¯å…·ä½“çš„å€¼ã€‚</p><ul><li>value å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰</li><li>value æœ€å¤šå¯ä»¥å®¹çº³çš„æ•°æ®é•¿åº¦æ˜¯ 512M</li><li>å¯ä»¥é€šè¿‡é…ç½®é¡¹ä¿®æ”¹proto-max-bulk-len</li></ul><p><strong>å¸¸ç”¨æ“ä½œ</strong></p><p>å¸¸ç”¨æ“ä½œèšé›†åœ¨ åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤</p><figure><img src="'+n+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p><strong>set</strong></p><p>è¯­æ³•ï¼šset key value</p><p>æ‰©å±•å‚æ•°ï¼š</p><ol><li>EX</li><li>PX</li><li>NX</li><li>XX</li></ol><p><strong>setnx</strong></p><p>è¯­æ³•ï¼šsetnx key value</p><p>åŠŸèƒ½ï¼šç”¨äºåœ¨æŒ‡å®šçš„ key ä¸å­˜åœ¨æ—¶ï¼Œä¸º key è®¾ç½®æŒ‡å®šçš„çš„å€¼ï¼Œè¿”å›å€¼ 0 è¡¨ç¤ºå­˜åœ¨ï¼Œ1 è¡¨ç¤ºè®¾ç½®æˆåŠŸ</p><figure><img src="'+s+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p><strong>del</strong></p><p>è¯­æ³•ï¼šdel key</p><p>è¿”å›å€¼ï¼šæˆåŠŸåˆ é™¤äº†å‡ è¡Œ</p><p><strong>å†…éƒ¨å®ç°</strong></p><p>åº•å±‚æ•°æ®ç»“æ„ä¸»è¦æ˜¯ int å’Œ SDSï¼ˆç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼‰</p><p><strong>SDS</strong></p><ul><li>SDS ä¸ä»…å¯ä»¥ä¿å­˜æ–‡æœ¬æ•°æ®ï¼Œè¿˜å¯ä»¥ä¿å­˜äºŒè¿›åˆ¶æ•°æ®ã€‚</li><li>SDSä½¿ç”¨lenå±æ€§çš„å€¼ï¼Œè€Œä¸æ˜¯ç©ºå­—ç¬¦æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç»“æŸï¼Œå¹¶ä¸” SDS çš„æ‰€æœ‰ API éƒ½ä¼šä»¥å¤„ç†äºŒè¿›åˆ¶çš„æ–¹å¼æ¥å¤„ç† SDS å­˜æ”¾åœ¨buf[]æ•°ç»„é‡Œçš„æ•°æ®ã€‚</li><li>å› æ­¤ SDS å¯ä»¥å¤„ç†æ–‡æœ¬æ•°æ®ï¼Œä¿å­˜å›¾ç‰‡ï¼ŒéŸ³é¢‘ã€è§†é¢‘ã€å‹ç¼©æ–‡ä»¶ç­‰äºŒè¿›åˆ¶æ•°æ®</li><li>SDS è·å–å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O1ã€‚å› ä¸ºæœ‰ len</li><li>reids çš„ SDS API æ˜¯å®‰å…¨çš„ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ä¸ä¼šé€ æˆç¼“å†²åŒºæº¢å‡ºã€‚å› ä¸ºå†æ‹¼æ¥æ—¶ä¼šæ£€æŸ¥ SDS ç©ºé—´æ˜¯å¦æ»¡è¶³è¦æ±‚ï¼Œå¦‚æœä¸å¤Ÿä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œä¸ä¼šå¯¼è‡´æº¢å‡ºé—®é¢˜</li></ul><p>sds ç§ç±»</p><ul><li>redis ä¸­ sds åˆ†ä¸ºï¼šsdshdr8ã€sdshdr16ã€sdshdr32ã€sdshdr64ï¼Œä»–ä»¬çš„å­—æ®µå±æ€§æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«åœ¨äºå¯¹åº”ä¸åŒå¤§å°çš„å­—ç¬¦ä¸²ã€‚</li><li>8ã€16ã€32ã€64 æ˜¯æŒ‡å­—æ®µ len çš„ä½æ•°</li></ul><p>ä»¥ sdshdr8 ä¸ºä¾‹</p><figure><img src="'+o+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>lenï¼šè¡¨ç¤ºç”¨äº†å¤šå°‘</li><li>allocï¼šè¡¨ç¤ºä¸€å…±åˆ†é…äº†å¤šå°‘å†…å­˜</li><li>alloc - len ï¼šä¸¤ä¸ªå­—æ®µå·®å°±æ˜¯é¢„ç•™ç©ºé—´çš„å¤§å°ã€‚</li><li>flagsï¼šæ ‡è®°æ˜¯å“ªä¸ªåˆ†ç±»ï¼Œæ¯”å¦‚ sdshdr8 å°±æ˜¯ #define_SDS_TYPE_8 1</li><li>bufï¼šæ•°æ®</li></ul><p>SDS å¯¹ c å­—ç¬¦ä¸²çš„æ”¹è¿›</p><ol><li><code></code>å¢åŠ é•¿åº¦å­—æ®µ lenï¼Œå¿«é€Ÿè¿”å›é•¿åº¦</li><li>å¢åŠ ç©ºä½™ç©ºé—´ï¼ˆalloc-lenï¼‰ï¼Œä¸ºåç»­è¿½åŠ æ•°æ®ç•™ä½™åœ°</li><li>ä¸å†ä»¥&#39;\\0&#39;ä½œä¸ºç»“æŸåˆ¤æ–­æ ‡å‡†ï¼ŒäºŒè¿›åˆ¶å®‰å…¨</li></ol><p>SDS å¯ä»¥é¢„ç•™ç©ºé—´ï¼Œé‚£ä¹ˆé¢„ç•™çš„ç©ºé—´æœ‰å¤šå¤§å‘¢ã€‚</p><ol><li>len å°äº 1M çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¼šé¢å¤–é¢„ç•™1 å€ len çš„ç©ºé—´</li><li>len å¤§äº 1M çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¼šé¢å¤–é¢„ç•™1MBçš„ç©ºé—´</li><li>ç®€å•æ¥è¯´èŒƒå›´ minï¼ˆlenï¼Œ1Mï¼‰</li></ol><p><strong>å­—ç¬¦ä¸²å¯¹è±¡çš„å†…éƒ¨ç¼–ç </strong></p><p>æœ‰ 3 ç§ï¼šintã€rawã€embstr</p><p>ä¿å­˜ä¸€ä¸ª intï¼Œå†…éƒ¨ï¼š</p><figure><img src="'+p+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>ä¿å­˜ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ† 2 ç§æƒ…å†µï¼šå­—ç¬¦ä¸²æ˜¯å¦å¤§äº 32 å­—èŠ‚ï¼ˆä¸åŒçš„ redis ç‰ˆæœ¬ä¸ä¸€æ ·ï¼‰</p><ul><li>å°äºç­‰äº 32 å­—èŠ‚ï¼Œencoding ä½¿ç”¨ embstr</li></ul><figure><img src="'+a+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><ul><li>å¤§äº 32 å­—èŠ‚ï¼Œencoding ä½¿ç”¨ raw</li></ul><figure><img src="'+g+'" alt="..." tabindex="0" loading="lazy"><figcaption>...</figcaption></figure><p>raw å’Œ embstr çš„è¾¹ç•Œ</p><ul><li>redis 2.+ æ˜¯ 32 å­—èŠ‚</li><li>redis 3.0-4.0 æ˜¯ 39 å­—èŠ‚</li><li>redis 5.0 æ˜¯ 44 å­—èŠ‚</li></ul><p>raw å’Œ embstr çš„åŒºåˆ«</p><ol><li>embstr ä¼šé€šè¿‡ä¸€æ¬¡å†…å­˜åˆ†é…æ¥åˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´æ¥ä¿å­˜redisObjectå’ŒSDS</li></ol><p>embstrç¼–ç å°†åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡æ‰€éœ€çš„å†…å­˜åˆ†é…æ¬¡æ•°ä» raw ç¼–ç çš„ä¸¤æ¬¡é™ä½ä¸ºä¸€æ¬¡ï¼›</p><p>é‡Šæ”¾ embstrç¼–ç çš„å­—ç¬¦ä¸²å¯¹è±¡åŒæ ·åªéœ€è¦è°ƒç”¨ä¸€æ¬¡å†…å­˜é‡Šæ”¾å‡½æ•°ï¼›</p><p>å› ä¸ºembstrç¼–ç çš„å­—ç¬¦ä¸²å¯¹è±¡çš„æ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨ä¸€å—è¿ç»­çš„å†…å­˜é‡Œé¢å¯ä»¥æ›´å¥½çš„åˆ©ç”¨ CPU ç¼“å­˜æå‡æ€§èƒ½ã€‚</p><p>ç¼ºç‚¹ï¼šå¦‚æœå­—ç¬¦ä¸²çš„é•¿åº¦å¢åŠ éœ€è¦é‡æ–°åˆ†åˆ«å†…å­˜ï¼Œæ•´ä¸ª redisObject å’Œ sds éœ€è¦é‡æ–°åˆ†é…ç©ºé—´ï¼Œæ‰€ä»¥ embstr ç¼–ç çš„å­—ç¬¦ä¸²å¯¹è±¡å®é™…ä¸Šæ—¶åªè¯»çš„</p><ol><li>å½“æˆ‘ä»¬è¦å¯¹ embstr ç¼–ç çš„å­—ç¬¦ä¸²æ‰§è¡Œä»»ä½•ä¿®æ”¹æŒ‡ä»¤ï¼Œredis ä¼šå…ˆå°†å¯¹è±¡çš„ç¼–ç ä» embstr è½¬æ¢æˆ rawï¼Œå†æ‰§è¡Œä¿®æ”¹</li></ol><p>æ³¨æ„</p><ol><li>embstr ä¸­åªä¼šä½¿ç”¨ sdshdr8ï¼ŒåŸå› è€ƒè™‘é˜ˆå€¼ï¼Œå¹¶ä¸”å­—æ®µ alloc ä¼šè¢«æ˜¾å¼è®¾ç½®ä¸º 0</li><li>raw ä¸­ä¼šå‡ºç° sdshdr8-64ï¼Œéƒ½æœ‰å¯èƒ½</li></ol><p><strong>ä¸ºä»€ä¹ˆéœ€è¦ SDS</strong></p><p>c è¯­è¨€ä¸­ï¼Œ&quot;hello&quot; å³&quot;hello\\0&quot;</p><p>ä¸å¥½çš„åœ°æ–¹</p><ol><li>è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ä¸º On</li><li>è¿½åŠ å­—ç¬¦ä¸²éœ€è¦é‡æ–°åˆ†é…å†…å­˜</li><li>éäºŒè¿›åˆ¶å®‰å…¨ï¼šè¿™é‡Œæ˜¯æŒ‡èƒ½å…¼å®¹&#39;\\0&#39;è¿™ç§ç‰¹æ®Šå­—ç¬¦ï¼Œå…¬å¹³å¯¹å¾…æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œä¸ç‰¹æ®Šå¤„ç†ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬ç‰¹æ®Šå­—ç¬¦</li></ol><p><strong>åº”ç”¨åœºæ™¯</strong></p><p><strong>ç¼“å­˜å¯¹è±¡</strong></p><ul><li>ç›´æ¥ç¼“å­˜æ•´ä¸ª json</li><li>é‡‡ç”¨å°† key è¿›è¡Œåˆ†ç¦»ä¸º user:ID:å±æ€§ï¼Œé‡‡ç”¨ MSET å­˜å‚¨ï¼Œç”¨ MGET è·å–å„å±æ€§å€¼ï¼Œå‘½ä»¤ä¾‹å­ï¼š MSET user:1:name xiaolin user:1:age 18 user:2:name xiaomei user:2:age 20</li></ul><p><strong>å¸¸è§„è®¡æ•°</strong></p><p>redis å¤„ç†å‘½ä»¤æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹æ˜¯åŸå­çš„ã€‚</p><p>å› æ­¤ string é€‚åˆè®¡æ•°åœºæ™¯</p>',61)]))}const S=i(c,[["render",d],["__file","string.html.vue"]]),y=JSON.parse('{"path":"/back-end/redis/Data-object/string.html","title":"Redis Stringç±»å‹è¯¦è§£","lang":"zh-CN","frontmatter":{"title":"Redis Stringç±»å‹è¯¦è§£","description":"è¯¦ç»†ä»‹ç»Redis Stringç±»å‹çš„å®ç°åŸç†ã€ä½¿ç”¨æ–¹æ³•åŠåº”ç”¨åœºæ™¯","date":"2024-01-01T00:00:00.000Z","category":["æ•°æ®åº“","Redis"],"tag":["Redis","æ•°æ®ç±»å‹","String","æ•°æ®ç»“æ„"],"head":[["meta",{"property":"og:url","content":"https://kryiea.cn/back-end/redis/Data-object/string.html"}],["meta",{"property":"og:site_name","content":"ğŸ§kryiea"}],["meta",{"property":"og:title","content":"Redis Stringç±»å‹è¯¦è§£"}],["meta",{"property":"og:description","content":"è¯¦ç»†ä»‹ç»Redis Stringç±»å‹çš„å®ç°åŸç†ã€ä½¿ç”¨æ–¹æ³•åŠåº”ç”¨åœºæ™¯"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-31T15:53:39.000Z"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:tag","content":"æ•°æ®ç±»å‹"}],["meta",{"property":"article:tag","content":"String"}],["meta",{"property":"article:tag","content":"æ•°æ®ç»“æ„"}],["meta",{"property":"article:published_time","content":"2024-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-31T15:53:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Redis Stringç±»å‹è¯¦è§£\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-31T15:53:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"kryiea\\",\\"url\\":\\"https://github.com/kryiea\\",\\"email\\":\\"kryieaa@outlook.com\\"}]}"]]},"headers":[],"git":{"createdTime":1743436419000,"updatedTime":1743436419000,"contributors":[{"name":"kryiea","email":"1582877056@qq.com","commits":1}]},"readingTime":{"minutes":4.09,"words":1228},"filePathRelative":"back-end/redis/Data-object/string.md","localizedDate":"2024å¹´1æœˆ1æ—¥","excerpt":"<p><strong>string</strong></p>\\n<p><strong>string</strong></p>\\n<p>string æ˜¯æœ€åŸºæœ¬çš„ k-v ç»“æ„ï¼Œkey æ˜¯å”¯ä¸€è¡¨ç¤ºï¼Œvalue æ˜¯å…·ä½“çš„å€¼ã€‚</p>\\n<ul>\\n<li>value å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰</li>\\n<li>value æœ€å¤šå¯ä»¥å®¹çº³çš„æ•°æ®é•¿åº¦æ˜¯ 512M</li>\\n<li>å¯ä»¥é€šè¿‡é…ç½®é¡¹ä¿®æ”¹proto-max-bulk-len</li>\\n</ul>\\n<p><strong>å¸¸ç”¨æ“ä½œ</strong></p>\\n<p>å¸¸ç”¨æ“ä½œèšé›†åœ¨ åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤</p>\\n<figure><figcaption>...</figcaption></figure>"}');export{S as comp,y as data};
